<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.jpg" type="image/jpeg" sizes="120x120">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <title>Study Planner ‚Äî Pianificazione intelligente per studenti</title>

  <style>
    /* ===== Base theme (coerente col tuo styles.css) ===== */
    :root{
      --bg0:#070a12;
      --bg1:#0b0f1a;

      --text: rgba(255,255,255,.93);
      --muted: rgba(255,255,255,.66);

      --border: rgba(255,255,255,.12);
      --border2: rgba(255,255,255,.18);

      --panel: rgba(255,255,255,.07);
      --shadow: 0 18px 60px rgba(0,0,0,.50);

      --orange: #f97316;
      --orange-light: #fb923c;
      --orange-dark: #ea580c;
      --orange-bg: rgba(249, 115, 22, .1);
      --orange-border: rgba(249, 115, 22, .2);

      --r: 18px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      color: var(--text);
      font-weight: 400;
      letter-spacing: -0.01em;
      background:
        radial-gradient(1200px 700px at 15% 10%, rgba(249,115,22,.12), transparent 58%),
        radial-gradient(900px 600px at 80% 15%, rgba(249,115,22,.08), transparent 58%),
        radial-gradient(900px 700px at 50% 95%, rgba(249,115,22,.06), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    }

    a{ color:inherit; text-decoration:none; }
    h1,h2,h3,p{ margin:0; }
    .hidden{ display:none !important; }

    /* ===== Layout ===== */
    .container{
      max-width: 560px;
      margin: 0 auto;
      padding: 28px 16px 56px;
    }

    .header{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-bottom: 14px;
    }

    .header h1{
      font-size: 30px;
      letter-spacing:-.02em;
    }

    .muted{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    /* ===== Card ===== */
    .card{
      position: relative;
      isolation: isolate;
      overflow: hidden;

      border: 1px solid var(--border);
      border-radius: var(--r);
      background: var(--panel);
      box-shadow: var(--shadow);
      padding: 14px;

      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .card::before{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,.10));
      pointer-events:none;
      z-index:0;
    }
    .card > *{ position:relative; z-index:1; }

    /* ===== Tabs ===== */
    .tabs{ display:flex; gap:8px; margin-bottom:10px; }
    .tab{
      flex:1;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--muted);
      cursor:pointer;
      font: inherit;
    }
    .tab.active{
      background: rgba(255,255,255,.12);
      color: var(--text);
      border-color: var(--orange-border);
      position:relative;
    }

    .tab.active::after{
      content:"";
      position:absolute;
      bottom:0;
      left:0;
      right:0;
      height:2px;
      background: var(--orange);
      border-radius:0 0 999px 999px;
    }

    /* ===== Forms ===== */
    .form{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top: 12px;
    }

    label{ font-size:12px; color: var(--muted); }

    input,select{
      width:100%;
      padding:12px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--text);
      outline:none;
      color-scheme: dark;
      -webkit-text-fill-color: rgba(255,255,255,.92);
    }
    input:focus,select:focus{
      border-color: var(--orange-border);
      box-shadow: 0 0 0 4px rgba(249,115,22,.08);
    }

    .error{
      min-height:18px;
      color: rgba(251,113,133,.95);
      font-size:12px;
      margin: 0;
    }

    .ok{
      min-height:18px;
      color: rgba(34,197,94,.95);
      font-size:12px;
      margin: 0;
    }

    /* ===== Buttons ===== */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;

      padding:10px 12px;
      border-radius: 12px;

      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      color: var(--text);

      cursor:pointer;
      user-select:none;
      transition: transform .05s ease, filter .15s ease, background .15s ease;
      font: inherit;
    }
    .btn:hover{ filter: brightness(1.08); }
    .btn:active{ transform: translateY(1px); }

    .btn.primary{
      background: var(--orange);
      color: rgba(255,255,255,1);
      border-color: transparent;
      font-weight: 600;
      transition: all .2s ease;
    }

    .btn.primary:hover{
      background: var(--orange-light);
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(249,115,22,.3);
    }

    /* ===== Password toggle ===== */
    .pwWrap{
      position: relative;
      display:flex;
      align-items:center;
    }
    .pwWrap input{ padding-right: 44px; }

    .pwToggle{
      position:absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);

      width: 34px;
      height: 34px;
      border-radius: 12px;

      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.78);

      cursor:pointer;
      display:grid;
      place-items:center;

      transition: filter .15s ease, transform .05s ease, background .15s ease;
    }
    .pwToggle:hover{ filter: brightness(1.08); }
    .pwToggle:active{ transform: translateY(-50%) translateY(1px); }

    /* ===== Toast (coerente col tuo stile) ===== */
    .toast {
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      z-index: 9999;
      width: min(560px, calc(100% - 24px));
    }
    .toast.hidden { display: none; }
    .toastInner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(17, 24, 39, 0.92);
      color: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,.12);
    }
    .toastMsg {
      font-size: 14px;
      line-height: 1.25;
    }
    .toastClose {
      border: 0;
      background: rgba(255,255,255,0.12);
      color: #fff;
      width: 32px;
      height: 32px;
      border-radius: 10px;
      cursor: pointer;
    }
    .toastClose:hover { background: rgba(255,255,255,0.18); }

    /* ===== Landing Page Styles ===== */
    .landingHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:24px;
      margin-bottom:80px;
      padding-top:32px;
      flex-wrap:wrap;
    }

    .landingTitle{
      flex:1;
      min-width:0;
    }

    .landingTitle h1{
      font-size:32px;
      letter-spacing:-.02em;
      margin-bottom:12px;
      font-weight:950;
      color: rgba(255,255,255,.98);
      position:relative;
      display:inline-block;
    }

    .landingTitle h1::after{
      content:"";
      position:absolute;
      bottom:-4px;
      left:0;
      width:40px;
      height:3px;
      background: var(--orange);
      border-radius:2px;
    }

    .landingTitle .tagline{
      font-size:15px;
      color: rgba(255,255,255,.65);
      line-height:1.5;
      font-weight:400;
      letter-spacing:0.01em;
    }

    .landingLoginBtn{
      padding:14px 28px;
      font-weight:700;
      white-space:nowrap;
      font-size:15px;
      letter-spacing:0.01em;
    }

    .heroSection{
      text-align:left;
      padding:80px 0 120px 0;
      margin-bottom:120px;
      position:relative;
      max-width:900px;
    }

    .heroSection::before{
      content:"";
      position:absolute;
      left:-48px;
      top:0;
      width:4px;
      height:100%;
      background: linear-gradient(180deg, var(--orange), var(--orange-light));
      border-radius:2px;
    }

    .heroTitle{
      font-size:clamp(42px, 6vw, 64px);
      font-weight:800;
      letter-spacing:-.03em;
      margin-bottom:28px;
      line-height:1.1;
      color: rgba(255,255,255,.98);
    }

    .heroSubtitle{
      font-size:clamp(18px, 2.5vw, 22px);
      color: rgba(255,255,255,.7);
      line-height:1.7;
      max-width:680px;
      margin:0 0 48px 0;
      font-weight:400;
      letter-spacing:0.01em;
      position:relative;
      padding-left:24px;
    }

    .heroSubtitle::before{
      content:"";
      position:absolute;
      left:0;
      top:8px;
      width:3px;
      height:24px;
      background: var(--orange);
      border-radius:2px;
      opacity:0.5;
    }

    .featuresGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap:32px;
      margin-bottom:120px;
    }

    .featureCard{
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.08);
      border-radius:20px;
      padding:40px;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      position:relative;
      overflow:hidden;
    }

    .featureCard::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      height:2px;
      background: linear-gradient(90deg, var(--orange), var(--orange-light));
      transform: scaleX(0);
      transform-origin:left;
      transition: transform .4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .featureCard:hover{
      transform: translateY(-6px);
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
      box-shadow: 0 20px 60px rgba(0,0,0,.3);
    }

    .featureCard:hover::before{
      transform: scaleX(1);
    }

    .featureIcon{
      width:56px;
      height:56px;
      border-radius:14px;
      background: var(--orange-bg);
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom:24px;
      font-size:20px;
      font-weight:700;
      color: var(--orange);
      border:1px solid var(--orange-border);
      letter-spacing: 0.02em;
    }

    .featureTitle{
      font-size:22px;
      font-weight:700;
      margin-bottom:14px;
      color: rgba(255,255,255,.96);
      letter-spacing:-.01em;
    }

    .featureDesc{
      font-size:15px;
      color: rgba(255,255,255,.65);
      line-height:1.75;
      font-weight:400;
      letter-spacing:0;
    }

    .sectionTitle{
      font-size:clamp(32px, 4vw, 44px);
      font-weight:800;
      text-align:left;
      margin-bottom:64px;
      letter-spacing:-.02em;
      color: rgba(255,255,255,.98);
      position:relative;
      padding-left:20px;
    }

    .sectionTitle::before{
      content:"";
      position:absolute;
      left:0;
      top:50%;
      transform: translateY(-50%);
      width:4px;
      height:32px;
      background: var(--orange);
      border-radius:2px;
    }

    .howItWorksSection{
      margin-bottom:120px;
      padding:0;
      background: transparent;
      position:relative;
    }

    .stepsGrid{
      display:flex;
      flex-direction:column;
      gap:0;
      margin-bottom:0;
      position:relative;
      max-width:800px;
    }

    .stepsGrid::before{
      content:"";
      position:absolute;
      left:32px;
      top:0;
      bottom:0;
      width:2px;
      background: linear-gradient(180deg, var(--orange), var(--orange-light), transparent);
      z-index:0;
    }

    .stepCard{
      display:flex;
      gap:32px;
      align-items:flex-start;
      padding:48px 0;
      position:relative;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stepCard:last-child{
      padding-bottom:0;
    }

    .stepCard:hover .stepContent{
      transform: translateX(8px);
    }

    .stepNumber{
      width:64px;
      height:64px;
      border-radius:16px;
      background: var(--orange);
      border:3px solid var(--bg0);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      font-weight:700;
      color: rgba(255,255,255,1);
      margin:0;
      flex-shrink:0;
      position:relative;
      z-index:1;
      box-shadow: 0 4px 16px rgba(249,115,22,.3);
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stepCard:hover .stepNumber{
      transform: scale(1.1);
      box-shadow: 0 6px 24px rgba(249,115,22,.4);
    }

    .stepContent{
      flex:1;
      padding-top:8px;
      transition: transform .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stepTitle{
      font-size:24px;
      font-weight:700;
      margin-bottom:12px;
      color: rgba(255,255,255,.98);
      letter-spacing:-.01em;
    }

    .stepDesc{
      font-size:16px;
      color: rgba(255,255,255,.7);
      line-height:1.75;
      font-weight:400;
      letter-spacing:0;
    }

    .benefitsSection{
      margin-bottom:64px;
      padding:80px 0;
      background: rgba(255,255,255,.02);
      border-radius:24px;
      margin-left:-24px;
      margin-right:-24px;
      padding-left:48px;
      padding-right:48px;
      border:1px solid rgba(255,255,255,.06);
    }

    .benefitsList{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
      gap:24px;
      margin-bottom:48px;
    }

    .benefitItem{
      display:flex;
      align-items:flex-start;
      gap:20px;
      padding:28px;
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.08);
      border-left:3px solid transparent;
      border-radius:16px;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      position:relative;
    }

    .benefitItem::before{
      content:"";
      position:absolute;
      left:0;
      top:28px;
      bottom:28px;
      width:3px;
      background: var(--orange);
      border-radius:0 2px 2px 0;
      opacity:0;
      transition: opacity .3s ease;
    }

    .benefitItem:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
    }

    .benefitItem:hover::before{
      opacity:1;
    }

    .benefitIcon{
      flex-shrink:0;
      width:44px;
      height:44px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: var(--orange-bg);
      border:1px solid var(--orange-border);
      border-radius:12px;
      font-size:16px;
      font-weight:700;
      color: var(--orange);
      letter-spacing: 0.01em;
    }

    .benefitText{
      flex:1;
    }

    .benefitTitle{
      font-size:18px;
      font-weight:600;
      margin-bottom:8px;
      color: rgba(255,255,255,.96);
      letter-spacing:-.01em;
    }

    .benefitDesc{
      font-size:15px;
      color: rgba(255,255,255,.65);
      line-height:1.7;
      font-weight:400;
      letter-spacing:0;
    }

    .faqSection{
      margin-bottom:64px;
    }

    .faqGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap:24px;
    }

    .faqItem{
      background: rgba(255,255,255,.02);
      border:1px solid rgba(255,255,255,.08);
      border-left:3px solid transparent;
      border-radius:16px;
      padding:32px;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
      position:relative;
    }

    .faqItem::before{
      content:"";
      position:absolute;
      left:0;
      top:32px;
      bottom:32px;
      width:3px;
      background: var(--orange);
      border-radius:0 2px 2px 0;
      opacity:0;
      transition: opacity .3s ease;
    }

    .faqItem:hover{
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
    }

    .faqItem:hover::before{
      opacity:0.6;
    }

    .faqQuestion{
      font-size:18px;
      font-weight:600;
      margin-bottom:12px;
      color: rgba(255,255,255,.96);
      letter-spacing:-.01em;
      position:relative;
      padding-left:20px;
    }

    .faqQuestion::before{
      content:"";
      position:absolute;
      left:0;
      top:50%;
      transform: translateY(-50%);
      width:6px;
      height:6px;
      background: var(--orange);
      border-radius:50%;
      opacity:0.4;
    }

    .faqAnswer{
      font-size:15px;
      color: rgba(255,255,255,.65);
      line-height:1.75;
      font-weight:400;
      letter-spacing:0;
    }

    .ctaSection{
      text-align:left;
      padding:64px 48px;
      background: linear-gradient(135deg, var(--orange-bg), rgba(249,115,22,.05));
      border:1px solid var(--orange-border);
      border-radius:24px;
      margin-bottom:80px;
      position:relative;
      overflow:hidden;
    }

    .ctaSection::before{
      content:"";
      position:absolute;
      top:0;
      left:0;
      right:0;
      bottom:0;
      background: radial-gradient(circle at top right, rgba(249,115,22,.12), transparent 70%);
      pointer-events:none;
    }

    .ctaSection > *{
      position:relative;
      z-index:1;
    }

    .ctaTitle{
      font-size:clamp(28px, 4vw, 36px);
      font-weight:800;
      margin-bottom:16px;
      letter-spacing:-.02em;
      color: rgba(255,255,255,.98);
    }

    .ctaSubtitle{
      font-size:18px;
      color: rgba(255,255,255,.7);
      margin-bottom:32px;
      font-weight:400;
      line-height:1.6;
    }

    .ctaButton{
      padding:16px 36px;
      font-size:16px;
      font-weight:700;
      letter-spacing:0.01em;
    }

    /* ===== Demo Charts Section ===== */
    .demoSection{
      margin-bottom:120px;
      padding:80px 0;
      background: rgba(255,255,255,.02);
      border-radius:24px;
      margin-left:-24px;
      margin-right:-24px;
      padding-left:48px;
      padding-right:48px;
      border:1px solid rgba(255,255,255,.06);
    }

    .demoChartsGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap:32px;
      max-width:1000px;
      margin:0 auto;
    }

    .demoChartCard{
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.1);
      border-radius:20px;
      padding:32px;
      text-align:center;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .demoChartCard:hover{
      transform: translateY(-4px);
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.05);
      box-shadow: 0 12px 40px rgba(0,0,0,.2);
    }

    .demoChartHeader{
      margin-bottom:24px;
    }

    .demoChartStatus{
      margin-top:20px;
      padding:12px 16px;
      border-radius:12px;
      font-size:14px;
      font-weight:600;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }

    .demoChartStatus.good{
      background: rgba(34,197,94,.15);
      color: rgba(34,197,94,1);
      border:1px solid rgba(34,197,94,.3);
    }

    .demoChartStatus.warn{
      background: rgba(245,158,11,.15);
      color: rgba(245,158,11,1);
      border:1px solid rgba(245,158,11,.3);
    }

    .statusIcon{
      font-size:18px;
    }

    /* ===== Pricing Section ===== */
    .pricingSection{
      margin-bottom:120px;
    }

    .pricingGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap:32px;
      max-width:1200px;
      margin:0 auto;
    }

    .pricingCard{
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.1);
      border-radius:24px;
      padding:40px;
      position:relative;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .pricingCard:hover{
      transform: translateY(-6px);
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.05);
      box-shadow: 0 20px 60px rgba(0,0,0,.3);
    }

    .pricingCard.featured{
      background: linear-gradient(135deg, rgba(249,115,22,.1), rgba(249,115,22,.05));
      border:2px solid var(--orange-border);
      box-shadow: 0 20px 60px rgba(249,115,22,.2);
    }

    .pricingCard.featured:hover{
      box-shadow: 0 24px 80px rgba(249,115,22,.3);
    }

    .pricingBadge{
      position:absolute;
      top:-12px;
      left:50%;
      transform: translateX(-50%);
      background: var(--orange);
      color: rgba(255,255,255,1);
      padding:6px 20px;
      border-radius:20px;
      font-size:12px;
      font-weight:700;
      letter-spacing:0.02em;
    }

    .pricingHeader{
      text-align:center;
      margin-bottom:32px;
    }

    .pricingPrice{
      margin:16px 0;
    }

    .pricingFeatures{
      display:flex;
      flex-direction:column;
      gap:16px;
      margin-bottom:24px;
    }

    .pricingFeature{
      display:flex;
      align-items:center;
      gap:12px;
      font-size:15px;
      color: rgba(255,255,255,.85);
    }

    .featureCheck{
      width:24px;
      height:24px;
      border-radius:50%;
      background: rgba(34,197,94,.2);
      color: rgba(34,197,94,1);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:14px;
      flex-shrink:0;
    }

    .featureCheck.premium{
      background: rgba(249,115,22,.2);
      color: var(--orange);
    }

    /* ===== Simulation Section ===== */
    .simulationSection{
      margin-bottom:120px;
      padding:80px 0;
      background: rgba(255,255,255,.02);
      border-radius:24px;
      margin-left:-24px;
      margin-right:-24px;
      padding-left:48px;
      padding-right:48px;
      border:1px solid rgba(255,255,255,.06);
    }

    .simulationDemo{
      max-width:1000px;
      margin:0 auto;
    }

    .simulationExampleCard{
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.1);
      border-radius:20px;
      padding:40px;
      margin-bottom:48px;
    }

    .simulationExampleHeader{
      text-align:center;
      margin-bottom:32px;
    }

    .appelliComparison{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:20px;
    }

    .appelloCard{
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.12);
      border-radius:16px;
      padding:24px;
      position:relative;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .appelloCard:hover{
      transform: translateY(-4px);
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.06);
      box-shadow: 0 12px 40px rgba(0,0,0,.2);
    }

    .appelloCard.best{
      background: linear-gradient(135deg, rgba(249,115,22,.15), rgba(249,115,22,.08));
      border:2px solid var(--orange-border);
      box-shadow: 0 8px 32px rgba(249,115,22,.2);
    }

    .appelloBadge{
      position:absolute;
      top:-10px;
      right:16px;
      background: var(--orange);
      color: rgba(255,255,255,1);
      padding:4px 12px;
      border-radius:12px;
      font-size:11px;
      font-weight:700;
      letter-spacing:0.02em;
    }

    .appelloDate{
      font-size:18px;
      font-weight:700;
      margin-bottom:20px;
      color: rgba(255,255,255,.95);
    }

    .appelloStats{
      display:flex;
      flex-direction:column;
      gap:12px;
      margin-bottom:16px;
    }

    .appelloStat{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:8px 0;
      border-bottom:1px solid rgba(255,255,255,.08);
    }

    .appelloStat:last-child{
      border-bottom:none;
    }

    .statLabel{
      font-size:13px;
      color:rgba(255,255,255,.6);
    }

    .statValue{
      font-size:15px;
      font-weight:700;
      color:rgba(255,255,255,.9);
    }

    .statValue.good{
      color:rgba(34,197,94,1);
    }

    .statValue.warn{
      color:rgba(245,158,11,1);
    }

    .statValue.best{
      color:var(--orange);
      font-size:16px;
    }

    .appelloReason{
      display:flex;
      align-items:center;
      gap:8px;
      padding:12px;
      background:rgba(255,255,255,.05);
      border-radius:10px;
      font-size:13px;
      color:rgba(255,255,255,.8);
      margin-top:16px;
    }

    .reasonIcon{
      font-size:16px;
    }

    .simulationFeatures{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap:24px;
    }

    .simulationFeatureCard{
      background: rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.1);
      border-radius:16px;
      padding:28px;
      text-align:center;
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .simulationFeatureCard:hover{
      transform: translateY(-4px);
      border-color: rgba(255,255,255,.2);
      background: rgba(255,255,255,.05);
      box-shadow: 0 12px 40px rgba(0,0,0,.2);
    }

    .simulationFeatureIcon{
      width:64px;
      height:64px;
      border-radius:16px;
      background: var(--orange-bg);
      border:1px solid var(--orange-border);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:28px;
      margin:0 auto 20px;
    }

    .loginModal{
      position:fixed;
      top:0;
      left:0;
      width:100%;
      height:100%;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.75);
      z-index:10000;
      padding:20px;
    }

    .loginModal.active{
      display:flex;
    }

    .loginModalContent{
      background: var(--bg1);
      border:1px solid var(--border);
      border-radius: var(--r);
      box-shadow: 0 24px 80px rgba(0,0,0,.6);
      width:100%;
      max-width:480px;
      padding:28px;
      position:relative;
      max-height:90vh;
      overflow-y:auto;
    }

    .loginModalClose{
      position:absolute;
      top:16px;
      right:16px;
      width:32px;
      height:32px;
      border-radius:10px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.05);
      color: var(--text);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      transition:all .15s ease;
    }

    .loginModalClose:hover{
      background:rgba(255,255,255,.1);
    }

    @media (max-width: 720px){
      .landingHeader{ margin-bottom:48px; padding-top:20px; }
      .landingTitle h1{ font-size:26px; }
      .landingTitle .tagline{ font-size:14px; }
      .heroSection{ padding:60px 0 80px 0; margin-bottom:80px; }
      .heroSection::before{ left:-24px; }
      .heroTitle{ font-size:36px; margin-bottom:20px; }
      .heroSubtitle{ font-size:17px; margin-bottom:32px; }
      .featuresGrid{ grid-template-columns:1fr; gap:24px; margin-bottom:80px; }
      .featureCard{ padding:32px; }
      .howItWorksSection{ margin-bottom:80px; }
      .stepsGrid{ max-width:100%; }
      .stepsGrid::before{ left:24px; }
      .stepCard{ gap:24px; padding:40px 0; }
      .stepNumber{ width:48px; height:48px; font-size:20px; }
      .stepTitle{ font-size:20px; }
      .stepDesc{ font-size:15px; }
      .benefitsSection{ margin-left:-24px; margin-right:-24px; padding:60px 24px; }
      .benefitsList{ grid-template-columns:1fr; gap:20px; }
      .benefitItem{ padding:24px; }
      .faqGrid{ grid-template-columns:1fr; gap:20px; }
      .faqItem{ padding:24px; }
      .sectionTitle{ font-size:28px; margin-bottom:48px; padding-left:16px; }
      .sectionTitle::before{ height:24px; width:3px; }
      .heroSubtitle{ padding-left:20px; }
      .heroSubtitle::before{ height:20px; }
      .faqQuestion{ padding-left:16px; }
      .faqQuestion::before{ width:5px; height:5px; }
      .ctaSection{ padding:48px 32px; margin-bottom:64px; }
      .ctaTitle{ font-size:28px; }
      .ctaSubtitle{ font-size:16px; }
      .demoSection{ margin-left:-24px; margin-right:-24px; padding:60px 24px; }
      .demoChartsGrid{ grid-template-columns:1fr; gap:24px; }
      .demoChartCard{ padding:24px; }
      .pricingGrid{ grid-template-columns:1fr; gap:24px; }
      .pricingCard{ padding:32px; }
      .simulationSection{ margin-left:-24px; margin-right:-24px; padding:60px 24px; }
      .appelliComparison{ grid-template-columns:1fr; gap:16px; }
      .appelloCard{ padding:20px; }
      .simulationFeatures{ grid-template-columns:1fr; gap:20px; }
      .simulationFeatureCard{ padding:24px; }
    }
  </style>
</head>

<body>
  <!-- Reset Password Modal -->
  <div id="reset-password-modal" class="loginModal">
    <div class="loginModalContent">
      <button class="loginModalClose" id="reset-modal-close" aria-label="Chiudi">‚úï</button>
      <div class="header" style="margin-bottom:20px;">
        <h1 style="font-size:28px;margin-bottom:8px;">Reimposta Password</h1>
        <p class="muted">Inserisci la tua email per ricevere il link di reset</p>
      </div>

      <form id="reset-password-form" class="form">
        <label>Email</label>
        <input type="email" id="reset-email" required placeholder="nome@uni.it" autocomplete="email" />

        <button type="submit" class="btn primary" id="reset-submit">Invia link reset</button>
        <p class="error" id="reset-error"></p>
        <p class="ok" id="reset-success" style="display:none; color:rgba(34,197,94,1); font-size:13px; margin-top:12px;"></p>
      </form>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="login-modal" class="loginModal">
    <div class="loginModalContent">
      <button class="loginModalClose" id="modal-close" aria-label="Chiudi">‚úï</button>
      <div class="header" style="margin-bottom:20px;">
        <h1 style="font-size:28px;margin-bottom:8px;">Study Planner</h1>
        <p class="muted">Accedi o crea un account</p>
      </div>

      <div class="tabs">
        <button class="tab active" id="tab-login" type="button">Login</button>
        <button class="tab" id="tab-signup" type="button">Crea account</button>
      </div>

      <form id="login-form" class="form">
        <label>Email</label>
        <input type="email" id="login-email" required placeholder="nome@uni.it" autocomplete="email" />

        <label>Password</label>
        <div class="pwWrap">
          <input type="password" id="login-pass" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" />
          <button type="button" class="pwToggle" aria-label="Mostra password" title="Mostra/Nascondi">‚å£</button>
        </div>

        <button type="submit" class="btn primary" id="login-submit">Entra</button>
        <p class="error" id="login-error"></p>
        <p style="text-align:center; margin-top:12px;">
          <a href="#" id="forgot-password-link" style="color:rgba(255,255,255,.6); font-size:13px; text-decoration:none;">Password dimenticata?</a>
        </p>
      </form>

      <form id="signup-form" class="form hidden">
        <label>Email</label>
        <input type="email" id="signup-email" required placeholder="nome@uni.it" autocomplete="email" />

        <label>Password</label>
        <div class="pwWrap">
          <input type="password" id="signup-pass" required placeholder="min 6 caratteri" autocomplete="new-password" />
          <button type="button" class="pwToggle" aria-label="Mostra password" title="Mostra/Nascondi">‚å£</button>
        </div>

        <button type="submit" class="btn primary" id="signup-submit">Crea account</button>
        <p class="error" id="signup-error"></p>
      </form>
    </div>
  </div>

  <div class="container" style="max-width:1280px; padding: 40px 24px 80px;">
    <!-- Header con login button -->
    <header class="landingHeader">
      <div class="landingTitle">
        <h1>Study Planner</h1>
        <p class="tagline">Pianificazione intelligente per studenti universitari</p>
      </div>
      <button class="btn primary landingLoginBtn" id="open-login">Accedi</button>
    </header>

    <!-- Hero Section -->
    <section class="heroSection">
      <h2 class="heroTitle">Piano di studio basato sulla scienza dell'apprendimento</h2>
      <p class="heroSubtitle">
        Algoritmo scientifico che applica <strong>spaced repetition</strong>, <strong>distributed practice</strong> e <strong>interleaving</strong> - 
        tecniche validate da decenni di ricerca. Non pi√π studio casuale: ogni task √® schedulato al momento ottimale 
        per massimizzare la memorizzazione a lungo termine.
      </p>
      <button class="btn primary ctaButton" id="cta-login">Inizia ora</button>
    </section>

    <!-- Features -->
    <section>
      <h2 class="sectionTitle">Perch√© Methodo</h2>
      <div class="featuresGrid">
        <div class="featureCard">
          <div class="featureIcon">AS</div>
          <h3 class="featureTitle">Algoritmo Scientifico</h3>
          <p class="featureDesc">
            Basato su spaced repetition, distributed practice e interleaving - tecniche validate dalla ricerca 
            per materie umanistiche, scientifiche e tecniche. Calcola automaticamente gli intervalli ottimali 
            tra le sessioni per massimizzare la memorizzazione di formule, concetti e teoremi.
          </p>
        </div>
        <div class="featureCard">
          <div class="featureIcon">CL</div>
          <h3 class="featureTitle">Pianificazione Realistica</h3>
          <p class="featureDesc">
            Rispetta la tua disponibilit√† settimanale e distribuisce i task tra mattina 
            e pomeriggio per massimizzare la produttivit√†.
          </p>
        </div>
        <div class="featureCard">
          <div class="featureIcon">AN</div>
          <h3 class="featureTitle">Tracking del Progresso</h3>
          <p class="featureDesc">
            Monitora il completamento delle task, visualizza statistiche di readiness 
            e mantieni il controllo sul tuo percorso di studio.
          </p>
        </div>
        <div class="featureCard">
          <div class="featureIcon">OB</div>
          <h3 class="featureTitle">Obiettivi Personalizzati</h3>
          <p class="featureDesc">
            Scegli tra "Sufficiente", "Buono" o "Ottimo" e il sistema adatter√† 
            l'intensit√† e il tipo di task al tuo obiettivo.
          </p>
        </div>
        <div class="featureCard">
          <div class="featureIcon">FL</div>
          <h3 class="featureTitle">Flessibilit√† Totale</h3>
          <p class="featureDesc">
            Aggiungi task manuali, modifica esami, rigenera il piano quando serve. 
            Il controllo √® sempre nelle tue mani.
          </p>
        </div>
        <div class="featureCard">
          <div class="featureIcon">TM</div>
          <h3 class="featureTitle">Timer Integrato</h3>
          <p class="featureDesc">
            Ogni task ha un timer dedicato per tracciare il tempo effettivo di studio 
            e mantenere la concentrazione con la tecnica Pomodoro.
          </p>
        </div>
      </div>
    </section>

    <!-- Come funziona -->
    <section class="howItWorksSection">
      <h2 class="sectionTitle">Come funziona</h2>
      <div class="stepsGrid">
        <div class="stepCard">
          <div class="stepNumber">1</div>
          <div class="stepContent">
            <h3 class="stepTitle">Crea il tuo profilo</h3>
            <p class="stepDesc">
              Imposta la tua disponibilit√† settimanale, obiettivo di studio e durata preferita dei task. 
              Il sistema si adatter√† alle tue esigenze e creer√† un piano personalizzato.
            </p>
          </div>
        </div>
        <div class="stepCard">
          <div class="stepNumber">2</div>
          <div class="stepContent">
            <h3 class="stepTitle">Aggiungi i tuoi esami</h3>
            <p class="stepDesc">
              Inserisci gli esami con data, CFU, difficolt√† e livello di preparazione attuale. 
              Funziona per materie umanistiche, scientifiche e tecniche. Pi√π informazioni fornisci, 
              pi√π preciso e ottimizzato sar√† il piano generato.
            </p>
          </div>
        </div>
        <div class="stepCard">
          <div class="stepNumber">3</div>
          <div class="stepContent">
            <h3 class="stepTitle">Ricevi il piano settimanale</h3>
            <p class="stepDesc">
              L'algoritmo scientifico genera automaticamente un piano ottimizzato usando spaced repetition, 
              distributed practice e interleaving. Task distribuiti al momento ottimale per massimizzare 
              la memorizzazione a lungo termine.
            </p>
          </div>
        </div>
        <div class="stepCard">
          <div class="stepNumber">4</div>
          <div class="stepContent">
            <h3 class="stepTitle">Simula e scegli l'appello migliore</h3>
            <p class="stepDesc">
              Usa le simulazioni per confrontare diversi appelli e scoprire quale ti conviene di pi√π. 
              Il sistema analizza automaticamente preparazione, tempo disponibile e conflitti per suggerirti la scelta ottimale.
            </p>
          </div>
        </div>
        <div class="stepCard">
          <div class="stepNumber">5</div>
          <div class="stepContent">
            <h3 class="stepTitle">Studia e traccia</h3>
            <p class="stepDesc">
              Completa i task, usa il timer integrato e monitora il tuo progresso in tempo reale. 
              Il sistema ti mostra sempre quanto sei preparato per ogni esame e ti avvisa se sei in ritardo.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Grafici Readiness -->
    <section class="demoSection">
      <h2 class="sectionTitle">Vedi sempre quanto sei preparato</h2>
      <p style="text-align:center; color:rgba(255,255,255,.7); font-size:18px; margin-bottom:48px; max-width:700px; margin-left:auto; margin-right:auto;">
        Il sistema calcola automaticamente la tua "readiness" per ogni esame. 
        Monitora il progresso in tempo reale e sappi sempre se sei in ritardo.
      </p>
      <div class="demoChartsGrid">
        <div class="demoChartCard">
          <div class="demoChartHeader">
            <h3 style="margin:0 0 8px 0; font-size:20px; font-weight:700;">Analisi 2</h3>
            <p style="margin:0; font-size:14px; color:rgba(255,255,255,.6);">15 giorni all'appello</p>
          </div>
          <canvas id="demo-chart-1" width="200" height="200"></canvas>
          <div class="demoChartStatus good">
            <span class="statusIcon">‚úì</span>
            <span>Readiness: 78% - In linea</span>
          </div>
        </div>
        <div class="demoChartCard">
          <div class="demoChartHeader">
            <h3 style="margin:0 0 8px 0; font-size:20px; font-weight:700;">Fisica</h3>
            <p style="margin:0; font-size:14px; color:rgba(255,255,255,.6);">8 giorni all'appello</p>
          </div>
          <canvas id="demo-chart-2" width="200" height="200"></canvas>
          <div class="demoChartStatus warn">
            <span class="statusIcon">‚ö†</span>
            <span>Readiness: 45% - Attenzione!</span>
          </div>
        </div>
        <div class="demoChartCard">
          <div class="demoChartHeader">
            <h3 style="margin:0 0 8px 0; font-size:20px; font-weight:700;">Storia</h3>
            <p style="margin:0; font-size:14px; color:rgba(255,255,255,.6);">22 giorni all'appello</p>
          </div>
          <canvas id="demo-chart-3" width="200" height="200"></canvas>
          <div class="demoChartStatus good">
            <span class="statusIcon">‚úì</span>
            <span>Readiness: 62% - Buono</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Simulazioni e Suggerimenti Appelli -->
    <section class="simulationSection">
      <h2 class="sectionTitle">Simulazioni intelligenti: scegli l'appello giusto</h2>
      <p style="text-align:center; color:rgba(255,255,255,.7); font-size:18px; margin-bottom:64px; max-width:800px; margin-left:auto; margin-right:auto;">
        Non sai quale appello sostenere? Il sistema confronta automaticamente tutti gli appelli disponibili 
        e ti suggerisce quello migliore in base alla tua preparazione, tempo disponibile e obiettivi.
      </p>
      
      <div class="simulationDemo">
        <!-- Esempio Esame con Appelli -->
        <div class="simulationExampleCard">
          <div class="simulationExampleHeader">
            <h3 style="margin:0 0 8px 0; font-size:22px; font-weight:700;">Analisi 2</h3>
            <p style="margin:0; font-size:14px; color:rgba(255,255,255,.6);">3 appelli disponibili</p>
          </div>
          
          <div class="appelliComparison">
            <!-- Appello 1 - Consigliato -->
            <div class="appelloCard best">
              <div class="appelloBadge">‚≠ê Consigliato</div>
              <div class="appelloDate">15 Gennaio 2025</div>
              <div class="appelloStats">
                <div class="appelloStat">
                  <span class="statLabel">Giorni</span>
                  <span class="statValue">45g</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Readiness</span>
                  <span class="statValue good">82%</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Score</span>
                  <span class="statValue best">92/100</span>
                </div>
              </div>
              <div class="appelloReason">
                <span class="reasonIcon">üí°</span>
                <span>Hai tempo sufficiente per prepararti bene</span>
              </div>
            </div>
            
            <!-- Appello 2 -->
            <div class="appelloCard">
              <div class="appelloDate">8 Gennaio 2025</div>
              <div class="appelloStats">
                <div class="appelloStat">
                  <span class="statLabel">Giorni</span>
                  <span class="statValue">38g</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Readiness</span>
                  <span class="statValue warn">65%</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Score</span>
                  <span class="statValue">71/100</span>
                </div>
              </div>
              <div class="appelloReason">
                <span class="reasonIcon">‚ö†Ô∏è</span>
                <span>Poco tempo, rischio preparazione insufficiente</span>
              </div>
            </div>
            
            <!-- Appello 3 -->
            <div class="appelloCard">
              <div class="appelloDate">22 Gennaio 2025</div>
              <div class="appelloStats">
                <div class="appelloStat">
                  <span class="statLabel">Giorni</span>
                  <span class="statValue">52g</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Readiness</span>
                  <span class="statValue good">88%</span>
                </div>
                <div class="appelloStat">
                  <span class="statLabel">Score</span>
                  <span class="statValue">85/100</span>
                </div>
              </div>
              <div class="appelloReason">
                <span class="reasonIcon">üìÖ</span>
                <span>Pi√π tempo ma conflitto con altri esami</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Funzionalit√† Simulazioni -->
        <div class="simulationFeatures">
          <div class="simulationFeatureCard">
            <div class="simulationFeatureIcon">üéØ</div>
            <h4 style="margin:0 0 8px 0; font-size:18px; font-weight:700;">Confronto Automatico</h4>
            <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
              Il sistema analizza tutti gli appelli disponibili e calcola un punteggio di convenienza 
              basato su tempo, preparazione e capacit√†.
            </p>
          </div>
          
          <div class="simulationFeatureCard">
            <div class="simulationFeatureIcon">üìä</div>
            <h4 style="margin:0 0 8px 0; font-size:18px; font-weight:700;">Simulazioni "What-If"</h4>
            <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
              Vedi cosa succede se studi di pi√π, cambi obiettivo o rimuovi un esame. 
              Confronta scenari diversi per prendere decisioni informate.
            </p>
          </div>
          
          <div class="simulationFeatureCard">
            <div class="simulationFeatureIcon">‚ö°</div>
            <h4 style="margin:0 0 8px 0; font-size:18px; font-weight:700;">Ottimizzazione Intelligente</h4>
            <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
              L'algoritmo considera urgenza, difficolt√†, CFU e livello di preparazione 
              per suggerirti la strategia migliore.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Sezione Conseguenze Skip Task -->
    <section class="demoSection" style="background: linear-gradient(135deg, rgba(245,158,11,.08), rgba(245,158,11,.03)); border:1px solid rgba(245,158,11,.15);">
      <h2 class="sectionTitle">Sai sempre cosa succede se salti un task</h2>
      <p style="text-align:center; color:rgba(255,255,255,.7); font-size:18px; margin-bottom:48px; max-width:700px; margin-left:auto; margin-right:auto;">
        Ogni decisione ha conseguenze. Quando salti un task, il sistema ti mostra immediatamente 
        l'impatto sulla tua preparazione, aiutandoti a prendere decisioni consapevoli.
      </p>
      
      <div style="max-width:900px; margin:0 auto;">
        <div style="background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.1); border-radius:20px; padding:40px; margin-bottom:32px;">
          <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:24px;">
            <div style="text-align:center; padding:24px;">
              <div style="width:64px; height:64px; border-radius:16px; background: rgba(245,158,11,.15); border:1px solid rgba(245,158,11,.3); display:flex; align-items:center; justify-content:center; font-size:28px; margin:0 auto 20px;">üìä</div>
              <h4 style="margin:0 0 12px 0; font-size:18px; font-weight:700;">Readiness in Tempo Reale</h4>
              <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
                Vedi immediatamente come cambia la tua percentuale di preparazione se salti il task, 
                con calcoli precisi basati sul tempo rimanente e le ore necessarie.
              </p>
            </div>
            
            <div style="text-align:center; padding:24px;">
              <div style="width:64px; height:64px; border-radius:16px; background: rgba(245,158,11,.15); border:1px solid rgba(245,158,11,.3); display:flex; align-items:center; justify-content:center; font-size:28px; margin:0 auto 20px;">‚ö†Ô∏è</div>
              <h4 style="margin:0 0 12px 0; font-size:18px; font-weight:700;">Valutazione Impatto</h4>
              <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
                Il sistema classifica l'impatto come minimo, moderato o significativo, 
                aiutandoti a capire se saltare quel task pu√≤ compromettere la tua preparazione.
              </p>
            </div>
            
            <div style="text-align:center; padding:24px;">
              <div style="width:64px; height:64px; border-radius:16px; background: rgba(245,158,11,.15); border:1px solid rgba(245,158,11,.3); display:flex; align-items:center; justify-content:center; font-size:28px; margin:0 auto 20px;">üí°</div>
              <h4 style="margin:0 0 12px 0; font-size:18px; font-weight:700;">Suggerimenti Intelligenti</h4>
              <p style="margin:0; color:rgba(255,255,255,.7); font-size:14px; line-height:1.6;">
                Ricevi consigli personalizzati su come recuperare il tempo perso o se √® meglio 
                concentrarsi su altri esami pi√π urgenti.
              </p>
            </div>
          </div>
        </div>
        
        <div style="background: rgba(245,158,11,.1); border:1px solid rgba(245,158,11,.2); border-radius:16px; padding:32px; text-align:center;">
          <div style="font-size:16px; font-weight:600; color:rgba(245,158,11,1); margin-bottom:12px;">Funzionalit√† Premium</div>
          <p style="margin:0; color:rgba(255,255,255,.8); font-size:15px; line-height:1.6;">
            Le conseguenze dettagliate del saltare un task sono disponibili solo per gli utenti Premium. 
            Prendi decisioni informate e mantieni il controllo completo sulla tua preparazione.
          </p>
        </div>
      </div>
    </section>

    <!-- Sezione Allenatore Studio -->
    <section class="demoSection" style="background: linear-gradient(135deg, rgba(249,115,22,.08), rgba(249,115,22,.03)); border:1px solid rgba(249,115,22,.15);">
      <h2 class="sectionTitle">Allenatore di Studio: il tuo percorso progressivo</h2>
      <p style="text-align:center; color:rgba(255,255,255,.7); font-size:18px; margin-bottom:48px; max-width:700px; margin-left:auto; margin-right:auto;">
        Non vuoi solo studiare di pi√π, vuoi migliorare gradualmente. L'Allenatore di Studio crea 
        un piano progressivo che ti porta dal tuo livello attuale all'obiettivo che ti sei prefissato.
      </p>
      
      <div style="max-width:900px; margin:0 auto;">
        <div style="background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.1); border-radius:20px; padding:40px; margin-bottom:32px;">
          <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:32px; align-items:center;">
            <div>
              <div style="width:64px; height:64px; border-radius:16px; background: rgba(249,115,22,.15); border:1px solid rgba(249,115,22,.3); display:flex; align-items:center; justify-content:center; font-size:28px; margin-bottom:24px;">üèÉ</div>
              <h4 style="margin:0 0 16px 0; font-size:22px; font-weight:700;">Piano Progressivo Personalizzato</h4>
              <p style="margin:0 0 20px 0; color:rgba(255,255,255,.7); font-size:15px; line-height:1.7;">
                Imposta quante ore studi attualmente e quante vorresti studiare. Il sistema crea 
                un piano che aumenta gradualmente il carico settimana dopo settimana, evitando 
                burnout e mantenendo la sostenibilit√†.
              </p>
              <div style="background: rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); border-radius:12px; padding:20px; margin-top:24px;">
                <div style="font-size:13px; color:rgba(255,255,255,.6); margin-bottom:8px;">Esempio</div>
                <div style="font-size:15px; color:rgba(255,255,255,.9); line-height:1.6;">
                  <strong>Attuale:</strong> 8h/settimana<br>
                  <strong>Obiettivo:</strong> 15h/settimana<br>
                  <strong>Piano:</strong> Aumento graduale di ~1h ogni settimana per 7 settimane
                </div>
              </div>
            </div>
            
            <div>
              <div style="background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.1); border-radius:16px; padding:32px;">
                <div style="margin-bottom:24px;">
                  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                    <span style="font-size:14px; color:rgba(255,255,255,.7);">Progresso</span>
                    <span style="font-size:14px; font-weight:600; color:rgba(249,115,22,1);">53%</span>
                  </div>
                  <div style="height:12px; background:rgba(255,255,255,.1); border-radius:999px; overflow:hidden;">
                    <div style="height:100%; width:53%; background:linear-gradient(90deg, rgba(249,115,22,1), rgba(249,115,22,.8)); border-radius:999px; transition:width 0.3s ease;"></div>
                  </div>
                </div>
                
                <div style="display:flex; justify-content:space-between; margin-bottom:20px; padding:16px; background:rgba(255,255,255,.03); border-radius:12px;">
                  <div>
                    <div style="font-size:12px; color:rgba(255,255,255,.6); margin-bottom:4px;">Ore attuali</div>
                    <div style="font-size:20px; font-weight:700; color:rgba(255,255,255,.95);">8.0h</div>
                  </div>
                  <div style="text-align:right;">
                    <div style="font-size:12px; color:rgba(255,255,255,.6); margin-bottom:4px;">Obiettivo</div>
                    <div style="font-size:20px; font-weight:700; color:rgba(249,115,22,1);">15.0h</div>
                  </div>
                </div>
                
                <div style="padding:16px; background:rgba(249,115,22,.1); border:1px solid rgba(249,115,22,.2); border-radius:12px;">
                  <div style="font-size:12px; color:rgba(255,255,255,.8); margin-bottom:8px; font-weight:600;">Questa settimana</div>
                  <div style="font-size:18px; font-weight:700; color:rgba(249,115,22,1);">11.0h suggerite</div>
                  <div style="font-size:11px; color:rgba(255,255,255,.6); margin-top:8px;">Tempo stimato: 7 settimane</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div style="background: rgba(249,115,22,.1); border:1px solid rgba(249,115,22,.2); border-radius:16px; padding:32px; text-align:center;">
          <div style="font-size:16px; font-weight:600; color:rgba(249,115,22,1); margin-bottom:12px;">Funzionalit√† Premium</div>
          <p style="margin:0; color:rgba(255,255,255,.8); font-size:15px; line-height:1.6;">
            L'Allenatore di Studio √® disponibile solo per gli utenti Premium. Crea un percorso 
            personalizzato che ti porta gradualmente dal tuo livello attuale all'obiettivo che desideri raggiungere.
          </p>
        </div>
      </div>
    </section>

    <!-- Scientific Method Section -->
    <section class="benefitsSection" style="margin-bottom: 80px;">
      <h2 class="sectionTitle">Metodo basato sulla scienza</h2>
      <div class="benefitsList">
        <div class="benefitItem">
          <div class="benefitIcon">üî¨</div>
          <div class="benefitText">
            <div class="benefitTitle">Spaced Repetition</div>
            <div class="benefitDesc">
              Intervalli ottimali tra le sessioni (1, 3, 7, 14 giorni) basati sulla curva dell'oblio di Ebbinghaus. 
              Efficace per formule matematiche, teoremi, concetti teorici e memorizzazione. Ogni revisione √® 
              schedulata al momento giusto per rafforzare la memoria a lungo termine.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">üìÖ</div>
          <div class="benefitText">
            <div class="benefitTitle">Distributed Practice</div>
            <div class="benefitDesc">
              Distribuzione intelligente dello studio su pi√π giorni invece del cramming. Efficace per materie 
              scientifiche (matematica, fisica, chimica) e umanistiche. La ricerca mostra miglioramenti del 
              40-60% nella ritenzione rispetto allo studio concentrato.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">üîÑ</div>
          <div class="benefitText">
            <div class="benefitTitle">Interleaving</div>
            <div class="benefitDesc">
              Mescolamento intelligente di argomenti diversi nella stessa giornata. Particolarmente efficace 
              per materie scientifiche: alternare tipi di problemi migliora il problem-solving e la capacit√† 
              di distinguere tra concetti simili.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Vantaggi -->
    <section class="benefitsSection">
      <h2 class="sectionTitle">Vantaggi per gli studenti</h2>
      <div class="benefitsList">
        <div class="benefitItem">
          <div class="benefitIcon">01</div>
          <div class="benefitText">
            <div class="benefitTitle">Riduce lo stress</div>
            <div class="benefitDesc">
              Avere un piano chiaro elimina l'ansia da "non so da dove iniziare" e ti permette 
              di concentrarti solo sullo studio.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">02</div>
          <div class="benefitText">
            <div class="benefitTitle">Migliora i risultati</div>
            <div class="benefitDesc">
              Algoritmo basato su spaced repetition, distributed practice e interleaving - 
              tecniche scientificamente validate che migliorano la ritenzione del 40-60% rispetto al cramming.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">03</div>
          <div class="benefitText">
            <div class="benefitTitle">Risparmia tempo</div>
            <div class="benefitDesc">
              Non devi pi√π pensare a cosa studiare: il sistema decide per te in base alle priorit√†, 
              lasciandoti pi√π tempo per studiare.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">04</div>
          <div class="benefitText">
            <div class="benefitTitle">Aumenta la motivazione</div>
            <div class="benefitDesc">
              Vedere il progresso e completare i task d√† un senso di realizzazione che mantiene 
              alta la motivazione.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">05</div>
          <div class="benefitText">
            <div class="benefitTitle">Equilibrio vita-studio</div>
            <div class="benefitDesc">
              Il piano rispetta la tua disponibilit√† reale, permettendoti di mantenere un equilibrio 
              tra studio e vita personale.
            </div>
          </div>
        </div>
        <div class="benefitItem">
          <div class="benefitIcon">06</div>
          <div class="benefitText">
            <div class="benefitTitle">Prevenzione procrastinazione</div>
            <div class="benefitDesc">
              Task piccoli e gestibili prevengono la procrastinazione. Ogni task √® progettato 
              per essere completabile in una sessione.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="faqSection">
      <h2 class="sectionTitle">Domande frequenti</h2>
      <div class="faqGrid">
        <div class="faqItem">
          <div class="faqQuestion">Quanto tempo ci vuole per configurare il profilo?</div>
          <div class="faqAnswer">
            Meno di 5 minuti. Devi solo inserire la tua disponibilit√† settimanale, obiettivo 
            e aggiungere gli esami con le relative informazioni.
          </div>
        </div>
        <div class="faqItem">
          <div class="faqQuestion">Posso modificare il piano dopo che √® stato generato?</div>
          <div class="faqAnswer">
            S√¨, puoi rigenerare il piano in qualsiasi momento, aggiungere task manuali, 
            modificare esami o cambiare le impostazioni del profilo.
          </div>
        </div>
        <div class="faqItem">
          <div class="faqQuestion">Come funziona l'algoritmo di priorit√†?</div>
          <div class="faqAnswer">
            L'algoritmo considera urgenza (vicinanza all'esame), ignoranza (quanto manca da preparare), 
            difficolt√† e CFU per distribuire il tempo in modo ottimale.
          </div>
        </div>
        <div class="faqItem">
          <div class="faqQuestion">Cosa succede se non completo tutti i task?</div>
          <div class="faqAnswer">
            Nessun problema. Il sistema si adatta e puoi rigenerare il piano quando vuoi. 
            L'importante √® essere onesti con la tua disponibilit√†.
          </div>
        </div>
        <div class="faqItem">
          <div class="faqQuestion">I miei dati sono sicuri?</div>
          <div class="faqAnswer">
            S√¨, utilizziamo Firebase Authentication e Firestore per garantire sicurezza e privacy. 
            I tuoi dati sono criptati e accessibili solo a te.
          </div>
        </div>
        <div class="faqItem">
          <div class="faqQuestion">Come posso iniziare?</div>
          <div class="faqAnswer">
            Crea un account, configura il tuo profilo con disponibilit√† e obiettivi, 
            aggiungi i tuoi esami e ricevi immediatamente un piano di studio personalizzato.
          </div>
        </div>
      </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricingSection">
      <h2 class="sectionTitle">Scegli il piano giusto per te</h2>
      <p style="text-align:center; color:rgba(255,255,255,.7); font-size:18px; margin-bottom:64px; max-width:700px; margin-left:auto; margin-right:auto;">
        Inizia gratis e passa a Premium quando vuoi per sbloccare tutte le funzionalit√† avanzate
      </p>
      <div class="pricingGrid">
        <!-- Free Plan -->
        <div class="pricingCard">
          <div class="pricingHeader">
            <h3 style="margin:0 0 8px 0; font-size:24px; font-weight:700;">Gratis</h3>
            <div class="pricingPrice">
              <span style="font-size:48px; font-weight:900;">‚Ç¨0</span>
              <span style="font-size:18px; color:rgba(255,255,255,.6);">/mese</span>
            </div>
            <p style="margin:16px 0 0 0; color:rgba(255,255,255,.6); font-size:14px;">Perfetto per iniziare</p>
          </div>
          <div class="pricingFeatures">
            <div class="pricingFeature">
              <span class="featureCheck">‚úì</span>
              <span>Piano di studio settimanale</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck">‚úì</span>
              <span>Fino a 3 esami</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck">‚úì</span>
              <span>Timer di studio base</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck">‚úì</span>
              <span>Tracking progresso</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck">‚úì</span>
              <span>Algoritmo intelligente</span>
            </div>
          </div>
          <button class="btn" style="width:100%; margin-top:24px;" id="cta-login-free">Inizia gratis</button>
        </div>

        <!-- Premium Plan Mensile -->
        <div class="pricingCard featured">
          <div class="pricingBadge">Consigliato</div>
          <div class="pricingHeader">
            <h3 style="margin:0 0 8px 0; font-size:24px; font-weight:700;">Premium Mensile</h3>
            <div class="pricingPrice">
              <span style="font-size:48px; font-weight:900;">‚Ç¨4,99</span>
              <span style="font-size:18px; color:rgba(255,255,255,.6);">/mese</span>
            </div>
            <p style="margin:16px 0 0 0; color:rgba(255,255,255,.6); font-size:14px;">Per studenti seri</p>
          </div>
          <div class="pricingFeatures">
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span><strong>Tutto del piano Gratis</strong></span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Esami illimitati</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Simulazione appelli avanzata</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Simulazioni "what-if"</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Statistiche dettagliate</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Pianificazione multi-settimana</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Esportazione piano di studio</span>
            </div>
          </div>
          <button class="btn primary" style="width:100%; margin-top:24px;" id="cta-login-premium-monthly">Passa a Premium</button>
        </div>

        <!-- Premium Plan Annuale -->
        <div class="pricingCard" style="background: linear-gradient(135deg, rgba(34,197,94,.1), rgba(34,197,94,.05)); border:2px solid rgba(34,197,94,.5); position: relative;">
          <div style="position:absolute; top:-12px; left:50%; transform: translateX(-50%); background: rgba(34,197,94,1); color: white; padding:6px 20px; border-radius:20px; font-size:12px; font-weight:700; letter-spacing:0.02em;">
            RISPARMIA 17%
          </div>
          <div class="pricingHeader">
            <h3 style="margin:0 0 8px 0; font-size:24px; font-weight:700;">Premium Annuale</h3>
            <div class="pricingPrice">
              <span style="font-size:48px; font-weight:900;">‚Ç¨50</span>
              <span style="font-size:18px; color:rgba(255,255,255,.6);">/anno</span>
            </div>
            <p style="margin:8px 0 0 0; color:rgba(255,255,255,.6); font-size:14px;">‚Ç¨4,17/mese</p>
            <p style="margin:8px 0 0 0; color:rgba(255,255,255,.5); font-size:12px;">Per studenti dedicati</p>
          </div>
          <div class="pricingFeatures">
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span><strong>Tutto del piano Gratis</strong></span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Esami illimitati</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Simulazione appelli avanzata</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Simulazioni "what-if"</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Statistiche dettagliate</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Pianificazione multi-settimana</span>
            </div>
            <div class="pricingFeature">
              <span class="featureCheck premium">‚úì</span>
              <span>Esportazione piano di studio</span>
            </div>
          </div>
          <button class="btn primary" style="width:100%; margin-top:24px; background: rgba(34,197,94,1);" id="cta-login-premium-yearly">Passa a Premium Annuale</button>
        </div>
      </div>
    </section>

    <!-- CTA Finale -->
    <section class="ctaSection">
      <h2 class="ctaTitle">Pronto a migliorare il tuo metodo di studio?</h2>
      <p class="ctaSubtitle">Crea un account e inizia subito a pianificare il tuo studio</p>
      <button class="btn primary ctaButton" id="cta-login-2">Inizia ora</button>
    </section>
  </div>

  <main class="card" style="display:none;">
      <div class="tabs">
        <button class="tab active" id="tab-login" type="button">Login</button>
        <button class="tab" id="tab-signup" type="button">Crea account</button>
      </div>

      <form id="login-form" class="form">
        <label>Email</label>
        <input type="email" id="login-email" required placeholder="nome@uni.it" autocomplete="email" />

        <label>Password</label>
        <div class="pwWrap">
          <input type="password" id="login-pass" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" />
          <button type="button" class="pwToggle" aria-label="Mostra password" title="Mostra/Nascondi">‚å£</button>
        </div>

        <button type="submit" class="btn primary" id="login-submit">Entra</button>
        <p class="error" id="login-error"></p>
        <p style="text-align:center; margin-top:12px;">
          <a href="#" id="forgot-password-link-2" style="color:rgba(255,255,255,.6); font-size:13px; text-decoration:none;">Password dimenticata?</a>
        </p>
      </form>

      <form id="signup-form" class="form hidden">
        <label>Email</label>
        <input type="email" id="signup-email" required placeholder="nome@uni.it" autocomplete="email" />

        <label>Password</label>
        <div class="pwWrap">
          <input type="password" id="signup-pass" required placeholder="min 6 caratteri" autocomplete="new-password" />
          <button type="button" class="pwToggle" aria-label="Mostra password" title="Mostra/Nascondi">‚å£</button>
        </div>

        <button type="submit" class="btn primary" id="signup-submit">Crea account</button>
        <p class="error" id="signup-error"></p>
      </form>
    </main>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite">
    <div class="toastInner">
      <div id="toast-msg" class="toastMsg">‚Äî</div>
      <button id="toast-close" class="toastClose" type="button" aria-label="Chiudi">‚úï</button>
    </div>
  </div>

  <script type="module">
    // ========= UI helpers =========
    const $ = (id) => document.getElementById(id);

    // Login Modal
    const loginModal = $("login-modal");
    const openLoginBtn = $("open-login");
    const ctaLoginBtns = document.querySelectorAll("#cta-login, #cta-login-2");
    const modalClose = $("modal-close");

    function openLoginModal(){
      loginModal.classList.add("active");
      document.body.style.overflow = "hidden";
    }

    function closeLoginModal(){
      loginModal.classList.remove("active");
      document.body.style.overflow = "";
      // Reset form errors
      $("login-error").textContent = "";
      $("signup-error").textContent = "";
    }

    openLoginBtn?.addEventListener("click", openLoginModal);
    ctaLoginBtns.forEach(btn => btn?.addEventListener("click", openLoginModal));
    modalClose?.addEventListener("click", closeLoginModal);
    loginModal?.addEventListener("click", (e) => {
      if (e.target === loginModal) closeLoginModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && loginModal.classList.contains("active")) {
        closeLoginModal();
      }
    });

    // Tabs
    const tabLogin = $("tab-login");
    const tabSignup = $("tab-signup");
    const loginForm = $("login-form");
    const signupForm = $("signup-form");

    function setTab(which){
      const isLogin = which === "login";
      tabLogin.classList.toggle("active", isLogin);
      tabSignup.classList.toggle("active", !isLogin);
      loginForm.classList.toggle("hidden", !isLogin);
      signupForm.classList.toggle("hidden", isLogin);

      // pulizia errori
      $("login-error").textContent = "";
      $("signup-error").textContent = "";
    }

    tabLogin?.addEventListener("click", () => setTab("login"));
    tabSignup?.addEventListener("click", () => setTab("signup"));

    // Password visibility toggles
    document.querySelectorAll(".pwToggle").forEach((btn) => {
      btn.addEventListener("click", () => {
        const input = btn.parentElement.querySelector("input");
        const show = input.type === "password";
        input.type = show ? "text" : "password";
        btn.textContent = show ? "‚å£" : "ìÅπ";
        btn.setAttribute("aria-label", show ? "Nascondi password" : "Mostra password");
      });
    });

    // Close modal on successful login (will be handled by app.js)
    window.addEventListener("login-success", () => {
      closeLoginModal();
    });

    // Toast
    const toast = $("toast");
    const toastMsg = $("toast-msg");
    const toastClose = $("toast-close");
    let toastTimer = null;

    function showToast(msg, ms=2600){
      toastMsg.textContent = msg;
      toast.classList.remove("hidden");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.add("hidden"), ms);
    }
    toastClose.addEventListener("click", () => toast.classList.add("hidden"));

    // Reset Password Modal
    const resetModal = $("reset-password-modal");
    const resetModalClose = $("reset-modal-close");
    const forgotPasswordLinks = document.querySelectorAll("#forgot-password-link, #forgot-password-link-2");
    const resetForm = $("reset-password-form");
    const resetEmail = $("reset-email");
    const resetError = $("reset-error");
    const resetSuccess = $("reset-success");

    function openResetModal(){
      if (!resetModal) {
        console.error("Reset modal non trovato");
        return;
      }
      resetModal.classList.add("active");
      document.body.style.overflow = "hidden";
      // Pre-compila email se disponibile dal form login
      const loginEmail = $("login-email")?.value;
      if (loginEmail && resetEmail) {
        resetEmail.value = loginEmail;
      }
    }

    function closeResetModal(){
      resetModal.classList.remove("active");
      document.body.style.overflow = "";
      resetError.textContent = "";
      resetSuccess.style.display = "none";
      resetEmail.value = "";
    }

    forgotPasswordLinks.forEach(link => {
      if (link && !link.dataset.bound) {
        link.dataset.bound = "1";
        link.addEventListener("click", (e) => {
          e.preventDefault();
          console.log("Password dimenticata cliccato");
          closeLoginModal();
          setTimeout(() => {
            console.log("Apertura modale reset");
            openResetModal();
          }, 200);
        });
      }
    });

    resetModalClose?.addEventListener("click", closeResetModal);
    resetModal?.addEventListener("click", (e) => {
      if (e.target === resetModal) closeResetModal();
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && resetModal.classList.contains("active")) {
        closeResetModal();
      }
    });

    // Reset password form handler
    if (resetForm && !resetForm.dataset.bound) {
      resetForm.dataset.bound = "1";
      resetForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        console.log("Reset password form submitted");
        
        if (!resetError || !resetSuccess || !resetEmail) {
          console.error("Elementi form reset non trovati");
          return;
        }
        
        resetError.textContent = "";
        resetSuccess.style.display = "none";

        const email = (resetEmail.value || "").trim();
        if (!email) {
          resetError.textContent = "Inserisci un'email valida.";
          return;
        }

        // Disabilita il bottone durante l'invio
        const submitBtn = resetForm.querySelector("button[type='submit']");
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = "Invio in corso...";
        }

        try {
          console.log("Invio email reset per:", email);
          // Importa la funzione resetPassword da auth.js
          const authModule = await import("./auth.js");
          await authModule.resetPassword(email);
          
          console.log("Email reset inviata con successo");
          resetSuccess.textContent = "Email inviata! Controlla la tua casella (anche spam) per il link di reset.";
          resetSuccess.style.display = "block";
          resetEmail.value = "";
          
        setTimeout(() => {
          closeResetModal();
          // Apri modale login se la funzione esiste
          if (typeof openLoginModal === "function") {
            openLoginModal();
          } else {
            const loginModal = $("login-modal");
            if (loginModal) {
              loginModal.classList.add("active");
              document.body.style.overflow = "hidden";
            }
          }
        }, 3000);
        } catch (err) {
          console.error("Errore reset password:", err);
          
          // Gestione errori specifici
          let errorMsg = "Errore nell'invio dell'email. Riprova.";
          if (err?.code === "auth/user-not-found") {
            errorMsg = "Email non trovata. Verifica l'indirizzo o crea un account.";
          } else if (err?.code === "auth/invalid-email") {
            errorMsg = "Email non valida. Inserisci un indirizzo email corretto.";
          } else if (err?.code === "auth/too-many-requests") {
            errorMsg = "Troppi tentativi. Aspetta qualche minuto e riprova.";
          } else if (err?.message) {
            errorMsg = err.message;
          }
          
          resetError.textContent = errorMsg;
        } finally {
          // Riabilita il bottone
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = "Invia link reset";
          }
        }
      });
    }

    // ========= Auth integration =========
    // Qui importi il tuo app.js esistente (firebase/auth). Mantieni la logica l√¨.
    // In questo index.html gestiamo solo UI (tabs, eye toggle, toast).
    import "./app.js";

    // Opzionale: se nel tuo app.js lanci eventi custom, puoi ascoltarli qui.
    // Esempio: window.dispatchEvent(new CustomEvent("toast", { detail: "Email inviata" }))
    window.addEventListener("toast", (e) => showToast(String(e.detail || "‚Äî")));

    // Debug UX: evita doppio submit in caso di Enter ripetuti
    $("login-form").addEventListener("submit", () => showToast("Accesso in corso‚Ä¶", 1600));
    $("signup-form").addEventListener("submit", () => showToast("Creazione account‚Ä¶", 1600));

    // ========= Demo Charts =========
    function drawPieChart(canvasId, percentage, color) {
      const canvas = document.getElementById(canvasId);
      if (!canvas) return;
      
      const ctx = canvas.getContext("2d");
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const radius = 80;
      
      // Sfondo
      ctx.fillStyle = "rgba(255,255,255,.05)";
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
      ctx.fill();
      
      // Arco principale
      const startAngle = -Math.PI / 2;
      const endAngle = startAngle + (percentage / 100) * Math.PI * 2;
      
      ctx.strokeStyle = color;
      ctx.lineWidth = 16;
      ctx.lineCap = "round";
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, startAngle, endAngle);
      ctx.stroke();
      
      // Testo percentuale
      ctx.fillStyle = "rgba(255,255,255,.95)";
      ctx.font = "bold 32px system-ui";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.fillText(`${percentage}%`, centerX, centerY - 8);
      
      ctx.fillStyle = "rgba(255,255,255,.6)";
      ctx.font = "14px system-ui";
      ctx.fillText("Readiness", centerX, centerY + 16);
    }

    // Disegna i grafici quando la pagina √® caricata
    window.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => {
        drawPieChart("demo-chart-1", 78, "rgba(34,197,94,1)");
        drawPieChart("demo-chart-2", 45, "rgba(245,158,11,1)");
        drawPieChart("demo-chart-3", 62, "rgba(99,102,241,1)");
      }, 100);
    });

    // Handler per i bottoni pricing
    document.getElementById("cta-login-free")?.addEventListener("click", openLoginModal);
    
    // Funzione helper per verificare se l'utente √® loggato
    async function checkAuthAndHandlePremium(planType) {
      try {
        const authModule = await import("./auth.js");
        if (authModule.auth && authModule.auth.currentUser) {
          // Utente loggato: avvia checkout diretto
          const functionsModule = await import("https://www.gstatic.com/firebasejs/10.12.5/firebase-functions.js");
          const { getFunctions, httpsCallable } = functionsModule;
          const { app } = await import("./auth.js");
          
          const functions = getFunctions(app, 'us-central1');
          const createCheckoutSession = httpsCallable(functions, 'createCheckoutSession');
          
          try {
            const result = await createCheckoutSession({
              email: authModule.auth.currentUser.email,
              planType: planType,
              successUrl: `${window.location.origin}/profile.html?premium=success`,
              cancelUrl: `${window.location.origin}/profile.html?premium=canceled`
            });
            
            if (result?.data?.url) {
              window.location.href = result.data.url;
            } else {
              throw new Error("URL di checkout non ricevuto");
            }
          } catch (error) {
            console.error("Errore checkout:", error);
            // Fallback: reindirizza al profilo dove pu√≤ scegliere
            window.location.href = "./profile.html";
          }
        } else {
          // Utente non loggato: apri modal login
          openLoginModal();
        }
      } catch (error) {
        // Se c'√® un errore, apri semplicemente il modal di login
        console.log("Errore verifica auth, apro modal login:", error);
        openLoginModal();
      }
    }
    
    // Handler per Premium Mensile
    document.getElementById("cta-login-premium-monthly")?.addEventListener("click", () => {
      checkAuthAndHandlePremium('monthly');
    });
    
    // Handler per Premium Annuale
    document.getElementById("cta-login-premium-yearly")?.addEventListener("click", () => {
      checkAuthAndHandlePremium('yearly');
    });
  </script>
</body>
</html>
